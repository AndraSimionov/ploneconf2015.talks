<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="eea">

<body>
	<div metal:fill-slot="content-title">
	<h1>Submit a talk</h1></div>
	<section metal:fill-slot="content-core" ng-app="PloneConfTalks" ng-controller="PloneConfTalksSubmit">
		<div class="row">
			<div class="col-sm-9">
				<div class="box box-form">
					<form tal:attributes="action string:${context/absolute_url}/${view/__name__}" method="post" name="submitTalk" 
		              class="form form-table" enctype="multipart/form-data" novalidate>
					<h3> Submit talk </h3>
					     <fieldset>
					     	<h5 class="legend">
					     		What are you going to talk about?
					     	</h5>
					     	<div class="form-group col-sm-12">
								 <label for="talk_title">
								 	Title
								 	<span class="required" ng-show="submitTalk.talk_title.$error.required"/>
								 </label>
						         <input id="talk_title" type="text" name="talk_title" ng-model="talk.title" ng-readonly="talk_disabled" required/>
					        </div>
					        <div class="form-group col-sm-12">
						         <label for="talk_summary">
								 	Summary
								 	<span class="required" ng-show="submitTalk.talk_summary.$error.required"/>
								 </label>
						         <textarea id="talk_summary" name="talk_summary" ng-model="talk.summary" ng-readonly="talk_disabled" required>
						         </textarea>
					        </div>
					    </fieldset>
					    <fieldset>
                            <h5 class="legend">
                              What's your target audience?
                              <span class="required" ng-show="submitTalk.talk_audience.$error.required"/>
                            </h5>
                            <div class="form-radios">
                              <label for="New to Plone" ng-class="{is_selected: talk.audience === 'New to Plone'}">
                                <!--<span class="icon icon-tshirt icon-block"></span>-->
                                <input type="radio" id="New to Plone" name="talk_audience"
                                       value="New to Plone"
                                       ng-model="talk.audience" required> New to Plone
                              </label>
                              <label for="Plone Integrators" ng-class="{is_selected: talk.audience === 'Plone Integrators'}">
                                <!--<span class="icon icon-tshirt icon-block"></span>-->
                                <input type="radio" id="Plone Integrators" name="talk_audience"
                                       value="Plone Integrators"
                                       ng-model="talk.audience" required> Plone Integrators
                              </label>
                              <label for="Plone Developers" ng-class="{is_selected: talk.audience === 'Plone Developers'}">
                                <!--<span class="icon icon-tshirt icon-block"></span>-->
                                <input type="radio" id="Plone Developers" name="talk_audience"
                                       value="Plone Developers"
                                       ng-model="talk.audience" required checked="true"> Plone Developers
                              </label>
                              <label for="Case Studies" ng-class="{is_selected: talk.audience === 'Case Studies'}">
                                <!--<span class="icon icon-tshirt icon-block"></span>-->
                                <input type="radio" id="Case Studies" name="talk_audience"
                                       value="Case Studies"
                                       ng-model="talk.audience" required checked="true"> Case Studies
                              </label>
                            </div>					        
					     </fieldset>
					     <span ng-repeat="n in repeat(number_of_speakers)">
						     <fieldset >
						     	<h5 class="legend">
						     		Who are you?
						     	</h5>
						     	<div class="form-group col-sm-6">
						     		<label for="speaker_name{{ n }}">
						     			Name
						     			<span class="required" ng-show="submitTalk.speaker_name{{ n }}.$error.required" />
						     		</label>
						     		<input class="form-control" id="speaker_name{{ n }}" type="text" name="speaker_name{{ n }}" ng-model="speakers[n].name" required/>
						     	</div>

						     	<div class="form-group col-sm-6">
						     		<label for="speaker-email{{ n }}"> 
						     			E-mail 
						     			<span class="required" ng-show="submitTalk.speaker_email{{ n }}.$error.required" />
						     		</label>
						     		<input class="form-control" id="speaker_email{{ n }}" type="email" name="speaker_email{{ n }}" ng-model="speakers[n].email" required/>
						     	</div>

						     	<div class="form-group col-sm-12">
						     		<label for="speaker_about{{ n }}">
						     			About
						     			<span class="required" ng-show="submitTalk.speaker_about{{ n }}.$error.required"/>
						     		</label>
						     		<textarea id="speaker_about{{ n }}" rows="1" cols="1" name="speaker_about{{ n }}" ng-model="speakers[n].about" required> 
						     		</textarea>
						     	</div>

						     	<div class="form-group col-sm-6">
						     		<label for="speaker_company{{ n }}">
						     			Company/Organization
						     		</label>
						     		<input class="form-control" id="speaker_company{{ n }}" type="text" name="speaker_company{{ n }}" ng-model="speakers[n].company"/>
						     	</div>

						     	<div class="form-group col-sm-6">
						     		<label for="speaker_country{{ n }}">
						     			Country
						     		</label>
						     		<input class="form-control" id="speaker_country{{ n }}" type="text" name="speaker_country{{ n }}" ng-model="speakers[n].country" required/>
						     	</div>
						     </fieldset>
						     <fieldset>
						     	<h5 class="legend">
						     		Text
						     	</h5>
						     	<div class="form-group col-sm-4">
						     		<label for="speaker_twitter{{ n }}">
						     			Twitter
						     		</label>
						     		<input class="form-control" id="speaker_twitter{{ n }}" type="text" name="speaker_twitter{{ n }}" ng-model="speakers[n].twitter" ng-blur="tryGetTwitterPhotoLink(n)"/>
						     	</div>

						     	<div class="form-group col-sm-4">
						     		<label for="speaker_git{{ n }}">
						     			GitHub account
						     		</label>
						     		<input class="form-control" id="speaker_git{{ n }}" type="text" name="speaker_git{{ n }}" ng-model="speakers[n].git" ng-blur="tryGetGitPhotoLink(n)"/> 
						     	</div>

						     	<div class="form-group col-sm-4">
						     		<label for="speaker_linkedin{{ n}}">
						     			LinkedIn account
						     		</label>
						     		<input class="form-control" id="speaker_linkedin{{ n }}" type="url" name="speaker_linkedin{{ n }}" ng-model="speakers[n].linkedin"/>
						     	</div>
						     </fieldset>
							</span>
							<div class="form-toolbar">
								<button type="reset" class="btn btn-link pull-left" ng-click="talk={}; speakers=[]"> Reset talk details </button>			
								<button type="button" class="btn btn-primary pull-right" ng-click="increaseNumberOfSpeakers()" >Add another speaker{{n}}</button>
								<br>
								<br>
								<button type="button" class="btn btn-danger pull-right" ng-click="decreaseNumberOfSpeakers()" ng-show="number_of_speakers > 1">Cancel </button>		
							</div> 				
					</form>
				</div>
			</div>
		</div>
	</section>
</body>
</html>
